
<style>
</style>
<!--Model Box Starting Here-->
<div class="popup-static portlet box portlet-fullscreen w3-modal-content w3-card-4 w3-animate-zoom" *ngIf="showAddPage">
  <div class="portlet-body form" style="background-color:white">
    <!--Model Box Body Start-->
    <form [formGroup]="CurrentEmployee.EmployeeValidator" class="form-horizontal">
      <div class="form-body">
        <div class="col-md-12">
          <!--<div class="col-md-2 hidden-xs hidden-sm" style="margin-right: 24px;">
        </div>-->
          <div class="col-md-12 col-sm-12 col-xs-12 modelbox-div" style="margin-right: 24px;">
            <div class="col-md-12">
              <div class="caption" style="color:blue;">
                <h3>
                  <span *ngIf="!update">Add Employee</span>
                  <span *ngIf="update">Update Employee</span>
                </h3>
              </div>
              <a style="float:right;  margin-top:-32px;" class="btn btn-danger" (click)="Close()" title="Cancel">X</a>
            </div>
            <br />
            <div class="col-md-12">
              <div class="col-md-4" style="margin-right: 0px;">
                <div class="form-group">
                  <label class="control-label col-md-3">Salutation<b>:</b></label>
                  <div class="col-md-9">
                    <div class="input-group">
                      <div class="icheck-inline">
                        <label class="mt-checkbox mt-checkbox-outline">
                          <input name="salutation" type="radio" value="Mr" [(ngModel)]="CurrentEmployee.Salutation" [ngModelOptions]="{standalone: true}">
                          <span></span>Mr
                        </label>
                        <label class="mt-checkbox mt-checkbox-outline">
                          <input name="salutation" type="radio" value="Ms" [(ngModel)]="CurrentEmployee.Salutation" [ngModelOptions]="{standalone: true}">
                          <span></span>Ms
                        </label>

                        <label class="mt-checkbox mt-checkbox-outline">
                          <input name="salutation" type="radio" value="Mrs" [(ngModel)]="CurrentEmployee.Salutation" [ngModelOptions]="{standalone: true}">
                          <span></span>Mrs
                        </label>

                        <label class="mt-checkbox mt-checkbox-outline">
                          <input name="salutation" type="radio" value="Dr" [(ngModel)]="CurrentEmployee.Salutation" [ngModelOptions]="{standalone: true}">
                          <span></span>Dr
                        </label>
                        <label class="mt-checkbox mt-checkbox-outline">
                          <input name="salutation" type="radio" value="Prof. Dr" [(ngModel)]="CurrentEmployee.Salutation" [ngModelOptions]="{standalone: true}">
                          <span></span>Prof. Dr.
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">First Name<b class="color-red">  *</b><b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <input class="form-control" type="text" maxlength="30" formControlName="FirstName"
                           [(ngModel)]="CurrentEmployee.FirstName"
                           required value=""
                           placeholder="First Name" />
                    <span class="color-red font-sm" [hidden]="CurrentEmployee.IsValidCheck('FirstName','required') || !(CurrentEmployee.IsDirty('FirstName'))">First Name is required</span>
                    <span class="color-red font-sm" *ngIf="CurrentEmployee.IsDirty('FirstName')" [hidden]="CurrentEmployee.IsValidCheck('FirstName','maxlength')"> Length is not proper</span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Middle Name<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <input class="form-control" type="text" maxlength="30" [ngModelOptions]="{standalone: true}"
                           [(ngModel)]="CurrentEmployee.MiddleName"
                           value=""
                           id="MiddleName"
                           placeholder="Middle Name" />
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Last Name<b class="color-red">  *</b><b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <input class="form-control" type="text" maxlength="30"
                           [(ngModel)]="CurrentEmployee.LastName"
                           formControlName="LastName"
                           id="LastName" value="" placeholder="Last Name" />
                    <span class="color-red font-sm" [hidden]="CurrentEmployee.IsValidCheck('LastName','required') || !(CurrentEmployee.IsDirty('LastName'))">Last Name  is required</span>
                    <span style="color:red" *ngIf="CurrentEmployee.IsDirty('LastName')" [hidden]="CurrentEmployee.IsValidCheck('LastName','maxlength')"> Length is not proper</span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Date Of Birth<b class="color-red">  *</b> <b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <input class="form-control" [(ngModel)]="CurrentEmployee.DateOfBirth" formControlName="DateOfBirth"
                           type="date" id="EmployeeDOB" value="" placeholder="Employee DOB" />
                    <span class="color-red font-sm" *ngIf="CurrentEmployee.IsDirty('DateOfBirth')" [hidden]="CurrentEmployee.IsValidCheck('DateOfBirth','required')"> Date Of Birth is required</span>
                    <span class="color-red font-sm" *ngIf="CurrentEmployee.IsDirty('DateOfBirth')" [hidden]="CurrentEmployee.IsValidCheck('DateOfBirth','wrongDate')"> Enter Valid Date</span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Gender<b class="color-red">  *</b><b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <div class="input-group">
                      <div class="icheck-inline">
                        <label class="mt-checkbox mt-checkbox-outline">
                          <input type="radio" value="Male" [(ngModel)]="CurrentEmployee.Gender" formControlName="Gender">
                          <span></span>Male
                        </label>
                        <label class="mt-checkbox mt-checkbox-outline">
                          <input type="radio" value="Female" [(ngModel)]="CurrentEmployee.Gender" formControlName="Gender">
                          <span></span>Female
                        </label>
                        <label class="mt-checkbox mt-checkbox-outline">
                          <input type="radio" value="Others" [(ngModel)]="CurrentEmployee.Gender" formControlName="Gender">
                          <span></span>Other
                        </label>
                      </div>
                    </div>
                    <span class="color-red" *ngIf="CurrentEmployee.IsDirty('Gender')" [hidden]="CurrentEmployee.IsValidCheck('Gender','required')"> Gender is required</span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">NMC No<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <input class="form-control" type="text" maxlength="20" formControlName="MedCertificationNo"
                           [(ngModel)]="CurrentEmployee.MedCertificationNo"
                           placeholder="NMC Number" />
                    <span class="color-red font-sm" *ngIf="CurrentEmployee.IsDirty('MedCertificationNo')" [hidden]="CurrentEmployee.IsValidCheck('MedCertificationNo','maxlength')">Length is not proper</span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Contact Number<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <input class="form-control" maxlength="10" [ngModelOptions]="{standalone: true}"
                           [(ngModel)]="CurrentEmployee.ContactNumber"
                           type="tel" id="EmployeeContactNumber" value="" placeholder="Employee Contact Number" />
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Email Id<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <input class="form-control" maxlength="30" [(ngModel)]="CurrentEmployee.Email"
                           formControlName="Email"
                           type="email" id="EmployeeEmailId" value="" placeholder="Employee Email Id" />
                    <span class="color-red font-sm" [hidden]="CurrentEmployee.IsValidCheck('Email','pattern') || !(CurrentEmployee.IsDirty('Email'))">Email Id is Not Proper </span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Signature(Short)<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <textarea class="form-control"
                              [(ngModel)]="CurrentEmployee.Signature" formControlName="Signature"></textarea>
                    <span class="color-red font-sm" *ngIf="CurrentEmployee.IsDirty('Signature')" [hidden]="CurrentEmployee.IsValidCheck('Signature','maxlength')">Length is not proper</span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Signature(Long)<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <textarea class="form-control"
                              [(ngModel)]="CurrentEmployee.LongSignature" formControlName="LongSignature"></textarea>
                    <span class="color-red font-sm" *ngIf="CurrentEmployee.IsDirty('LongSignature')" [hidden]="CurrentEmployee.IsValidCheck('LongSignature','maxlength')">Length is not proper</span>
                  </div>
                </div>
              </div>
              <div class="col-md-4 vertical-line-right" style="margin-right: 0px;">
                <div class="form-group">
                  <label class="control-label col-md-4">Employee Department<b class="color-red">*</b><b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <select class="form-control" [(ngModel)]="CurrentEmployee.DepartmentId"
                            formControlName="EmployeeDepartment" (ngModelChange)="DepartmentOnChange()">
                      <option *ngFor="let dept of deptList" value="{{dept.DepartmentId}}">{{dept.DepartmentName}}</option>
                    </select>
                    <span class="color-red font-sm" [hidden]="CurrentEmployee.IsValidCheck('EmployeeDepartment','required') || !(CurrentEmployee.IsDirty('EmployeeDepartment'))">Employee Department  is required</span>
                  </div>
                </div>
                <div class="form-group" *ngIf="showLabSignature">
                  <label class="control-label col-md-4">Lab Signature<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <textarea class="form-control" [ngModelOptions]="{standalone: true}"
                              [(ngModel)]="CurrentEmployee.LabSignature"></textarea>

                  </div>
                </div>


                <div class="form-group">
                  <label class="control-label col-md-4">Employee Role<!--<b class="color-red">*</b>--><b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <select class="form-control" [(ngModel)]="CurrentEmployee.EmployeeRoleId"
                            [ngModelOptions]="{standalone: true}">

                      <option *ngFor="let eRole of empRoleList" value="{{eRole.EmployeeRoleId}}">{{eRole.EmployeeRoleName}}</option>
                    </select>
                    <!--<span class="color-red font-sm" [hidden]="CurrentEmployee.IsValidCheck('EmployeeRoleId','required') || !(CurrentEmployee.IsDirty('EmployeeRoleId'))">Select Employee Role</span>-->
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Employee Type<!--<b class="color-red">*</b>--><b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <select class="form-control" [(ngModel)]="CurrentEmployee.EmployeeTypeId"
                            [ngModelOptions]="{standalone: true}">
                      <option *ngFor="let eType of empTypeList"
                              value="{{eType.EmployeeTypeId}}">
                        {{eType.EmployeeTypeName}}
                      </option>
                    </select>
                    <!--<span class="color-red font-sm" [hidden]="CurrentEmployee.IsValidCheck('EmployeeTypeId','required') || !(CurrentEmployee.IsDirty('EmployeeTypeId'))">Select Employee Type</span>-->
                  </div>
                </div>

                <div class="form-group">
                  <label class="control-label col-md-4">Date Of Joining<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <input class="form-control"
                           [(ngModel)]="CurrentEmployee.DateOfJoining" [ngModelOptions]="{standalone: true}"
                           type="date" id="EmployeeDateOfJoining" value="" placeholder="Employee Date Of Joining" />
                    <!--<span class="color-red font-sm" style="" *ngIf="CurrentEmployee.IsDirty('DateOfJoining')" [hidden]="CurrentEmployee.IsValidCheck('DateOfJoining','wrongDate')"> Enter Valid Date</span>-->
                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Contact Address<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <textarea class="form-control"
                              [(ngModel)]="CurrentEmployee.ContactAddress" [ngModelOptions]="{standalone: true}"></textarea>

                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Extension<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <input class="form-control" min="0"
                           [(ngModel)]="CurrentEmployee.Extension" [ngModelOptions]="{standalone: true}" type="number" placeholder="this is landline-extension" />

                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">SpeedDial<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <input class="form-control" min="0"
                           [(ngModel)]="CurrentEmployee.SpeedDial" [ngModelOptions]="{standalone: true}" type="number" placeholder="this is speed-dial" />

                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Office Hour<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <textarea class="form-control"
                              [(ngModel)]="CurrentEmployee.OfficeHour" [ngModelOptions]="{standalone: true}"></textarea>

                  </div>
                </div>
                <div class="form-group">
                  <label class="control-label col-md-4">Room No.<b style="float:right;">:</b></label>
                  <div class="col-md-8">
                    <input class="form-control" maxlength="20" [(ngModel)]="CurrentEmployee.RoomNo"
                           [ngModelOptions]="{standalone: true}"
                           type="text" id="EmployeeRoomNo" value="" placeholder="Employee Room No" />

                  </div>
                </div>

                <div class="form-group">
                  <label class="control-label col-md-4">Is Active <b style="float:right;">:</b> </label>
                  <div class="col-md-8">
                    <div class="input-group">
                      <div class="icheck-inline">
                        <label class="mt-checkbox mt-checkbox-outline">
                          <input id="isActive" name="isActive" type="checkbox" value=""
                                 [(ngModel)]="CurrentEmployee.IsActive"
                                 [ngModelOptions]="{standalone: true}">
                          <span></span>
                        </label>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
              <!--Start OPD and other services section-->
              <div class="col-md-4" style="margin-right: 0px;">
                <div class="form-group">
                  <label class="control-label col-md-8">Appointment Applicable? <b style="float:right;">:</b> </label>
                  <div class="col-md-4">
                    <div class="input-group">
                      <div class="icheck-inline">
                        <label class="mt-checkbox mt-checkbox-outline">
                          <input id="isActive" name="isApptApplicable" type="checkbox" value=""
                                 [(ngModel)]="CurrentEmployee.IsAppointmentApplicable"
                                 [ngModelOptions]="{standalone: true}">
                          <span></span>
                        </label>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <label class="control-label col-md-4">Display Sequence <b style="float:right;">:</b> </label>
                  <div class="col-md-8">
                    <div class="input-group">
                      <div class="icheck-inline">
                        <input class="form-control" maxlength="20" [(ngModel)]="CurrentEmployee.DisplaySequence"
                               [ngModelOptions]="{standalone: true}"
                               type="number" min="0" id="DisplaySequence" value="" />

                      </div>
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <label class="control-label col-md-4">Signature Image <b style="float:right;">:</b> </label>
                  <div class="col-md-8">
                    <div class="profile">
                      <div class="photo" style="width: 100%;">
                        <button *ngIf="!CurrentEmployee.SignatoryImageBase64" (click)="OpenCropper()" style="padding: 3px 6px;background: #bab8c3;cursor: pointer; margin-right: 8px;">Choose File</button>
                        <button *ngIf="CurrentEmployee.SignatoryImageBase64" (click)="RemoveSignatoryImage()" style="padding: 3px 6px;background: #bab8c3;cursor: pointer; margin-right: 8px;">Remove</button>
                      </div>
                    </div>
                    <div class="img-responsive">
                      <img (click)="OpenCropper()" class="img-responsive" *ngIf="CurrentEmployee.SignatoryImageBase64" [src]="'data:image/jpeg;base64,'+CurrentEmployee.SignatoryImageBase64" />
                    </div>
                  </div>
                </div>


                <div *ngIf="CurrentEmployee.IsAppointmentApplicable">
                  <div class="form-group">
                    <label class="control-label col-md-6"><b><u>Select Services:</u></b></label>
                    <div class="col-md-6 hidden-xs hidden-sm">
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="control-label col-md-4">
                      <div class="input-group">
                        <div class="icheck-inline">
                          <label class="mt-checkbox mt-checkbox-outline">
                            <input type="checkbox" value="OPD" [(ngModel)]="OPDService" (click)="OPDServiceSelectChange()" [ngModelOptions]="{standalone: true}">
                            <span></span>OPD
                          </label>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-8">
                      <input class="form-control" danphe-auto-complete [disabled]="!OPDService"
                             [ngModelOptions]="{standalone: true}"
                             [(ngModel)]="Item"
                             onClick="this.select();"
                             [list-formatter]="myItemListFormatter"
                             [source]="itemList"
                             placeholder="enter text"
                             display-property-name="ItemNamePrice"
                             value-property-name=null
                             (valueChanged)="ItemChanged()"
                             max-num-list="10" />
                      <span class="color-red font-sm" [hidden]="checkAptApplicable">Not applicable for current department</span>
                      <span class="color-red font-sm" [hidden]="itemRequired">item name required</span>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label col-md-4">Price<b class="color-red">  *</b><b style="float:right;">:</b></label>
                    <div class="col-md-8">
                      <input class="form-control" type="number" maxlength="30" [disabled]="!OPDService" [ngModelOptions]="{standalone: true}"
                             [(ngModel)]="Price"
                             required value=""
                             placeholder="Price"
                             min="0" />
                      <span class="color-red font-sm" [hidden]="pricePositive">positive price required</span>
                      <span class="color-red font-sm" [hidden]="priceRequired">price required</span>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label col-md-4">EHS Price <b style="float:right;">:</b></label>
                    <div class="col-md-8">
                      <input class="form-control" type="number" maxlength="30" [disabled]="!OPDService" [ngModelOptions]="{standalone: true}"
                             [(ngModel)]="EHSPrice"
                             required value=""
                             placeholder="Price"
                             min="0" />
                      <span class="color-red font-sm" [hidden]="EHSPricePositive">positive price required</span>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label col-md-4">SAARC Citizen Price <b style="float:right;">:</b></label>
                    <div class="col-md-8">
                      <input class="form-control" type="number" maxlength="30" [disabled]="!OPDService" [ngModelOptions]="{standalone: true}"
                             [(ngModel)]="SAARCCitizenPrice"
                             required value=""
                             placeholder="Price"
                             min="0" />
                      <span class="color-red font-sm" [hidden]="SAARCPricePositive">positive price required</span>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label col-md-4">Foreigner Price <b style="float:right;">:</b></label>
                    <div class="col-md-8">
                      <input class="form-control" type="number" maxlength="30" [disabled]="!OPDService" [ngModelOptions]="{standalone: true}"
                             [(ngModel)]="ForeignerPrice"
                             required value=""
                             placeholder="Price"
                             min="0" />
                      <span class="color-red font-sm" [hidden]="ForeignerPricePositive">positive price required</span>
                    </div>
                  </div>

                </div>


              </div>
              <!--End OPD and other services section-->
            </div>
            <div class="col-md-12" style="padding-bottom: 18px;">
              <div class="form-actions">
                <input type="button" class="btn btn-primary" *ngIf="!update" (click)="SaveEmployee()" value="Add" />
                <input type="button" class="btn btn-primary" *ngIf="update" (click)="SaveEmployee()" value="Update" />
              </div>
            </div>
          </div>
          <!--<div class="col-md-2 hidden-xs hidden-sm" style="margin-right: 24px;">
        </div>-->
          <div>

          </div>
        </div>
      </div>
    </form>

    <danphe-photo-cropper *ngIf="openPhotoCropper" [ipImage]="currImageBase64" [action-type]="actionType"
                          [useWebCam]="useWebCam" [maintainAspectRation]="maintainAspectRatio"
                          (onCropSuccess)="OnCropSuccess($event)" (onCropperClose)="OnCropperClosed($event)"></danphe-photo-cropper>

    <!--Model Box Body End-->
  </div>
</div>
<!--Model Box Starting Here-->
