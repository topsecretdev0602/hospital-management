<div class="popup-static portlet box portlet-fullscreen">
    <div class="portlet-body form" style="text-align: center;">
        <div class="modelbox-div" style="width:70%;display: inline-block;">
            <div style="width: 100%; float: left;background: #fff;padding:10px;">
                <i class="btn btn-danger" style="float: right" (click)="CloseGroupDiscountPopUp()">X</i>
                <div class="col-md-12" *ngIf="admissionInfo">
                    <table>
                        <tr>
                            <td colspan="2" width="400">
                                <b style="float:left;text-decoration:underline;font-size:15px">{{admissionInfo.PatientName}}({{admissionInfo.PatientNo}})</b>
                            </td>
                        </tr>
                        <tr>
                            <td width="100">Age/Sex<b style="float:right;">: </b></td>
                            <td width="50">{{admissionInfo.DateOfBirth | DanpheDateTime:'age'}} / {{admissionInfo.Gender}}</td>
                        </tr>
                        <tr>
                            <td width="100">Contact<b style="float:right;">: </b></td>
                            <td width="50"> {{admissionInfo.PhoneNumber}}</td>
                        </tr>
                    </table>
                </div>
                <div class="col-md-12  pat-hdr" style="max-height:300px;overflow-y:scroll;padding:10px">
                    <table class="table-striped table-hover data-table" style="width:100%;" border="0">
                        <thead style="background-color: #d0d9d0;">
                            <tr>
                                <th align="right" width="90">
                                    Select All <input style="width: 18px;height: 18px;float:right" type="checkbox" name="selectAllItem" [(ngModel)]="isAllItemsSelected" (ngModelChange)="OnChangeSelectAll()" />
                                </th>
                                <th align="center">
                                    SNo.
                                </th>
                                <th>
                                    ItemName
                                </th>
                                <th>
                                    Quantity
                                </th>
                                <th>
                                    Sub Total
                                </th>
                                <th>
                                    Discount %
                                </th>
                                <th>
                                    Total Amount
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let itm of discountGroupItems;let i=index;">
                                <td>
                                    <input style="width: 18px;height: 18px;float:right" type="checkbox" name="selectItems" [(ngModel)]="itm.IsSelected" (ngModelChange)="OnChangeItemSelect()" />
                                </td>
                                <td>
                                    {{i+1}}
                                </td>
                                <td align="left">
                                    {{itm.ItemName}}
                                    <div *ngIf="itm.ProviderId">
                                        <span style="font-size: 12px;font-weight: bold;">
                                            ({{itm.ProviderName}})
                                        </span>
                                    </div>
                                </td>
                                <td>
                                    {{itm.Quantity}}
                                </td>
                                <td>
                                    {{itm.SubTotal}}
                                </td>
                                <td>
                                    {{itm.DiscountPercent}}
                                </td>
                                <td>
                                    {{itm.TotalAmount}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-md-12" style="padding-top:5px;padding-right:0px;">
                    <div class="col-md-12">
                        <table align="center">
                            <tr>
                                <td><b>Group Discount (%) : </b></td>
                                <td width="90">
                                    <input type="number"
                                           [(ngModel)]="groupDiscountPercent"
                                           min="0"
                                           max="100"
                                           (ngModelChange)="ItemGroupDiscount()"
                                           class="form-control"
                                           name="DiscountPercent">

                                </td>
                                <td align="left"> <b>%</b><sub><b>(percent)</b></sub></td>
                                <label class="color-red font-sm" *ngIf="showMessage">Enter Valid number.
                                </label>
                            </tr>
                        </table>
                        <!--<input type="text" width="300" />-->
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="col-md-12" style="padding-top:5px;padding-right:0px;">
                        <input type="button" class="btn btn-sm blue" value="Submit Group Discount" (click)="SubmitGroupDiscount()" [disabled]="showMessage" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
